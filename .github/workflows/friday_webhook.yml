name: Send Friday Webhook
on:
  workflow_dispatch:
  schedule:
    - cron: '0 7 * * 5'

jobs:
  send_webhook:
    runs-on: ubuntu-latest
    steps:
      - name: Send KakaoWork Message
        run: |
          cat << 'EOF' > payload.json
          {
            "text": "ì£¼ê°„ ì—…ë¬´ ì•Œë¦¼",
            "blocks": [
              {
                "type": "header",
                "text": "ğŸ“¢ ì£¼ê°„ì—…ë¬´ë³´ê³  ì‘ì„± ì‹œê°„",
                "style": "blue"
              },
              {
                "type": "text",
                "text": "ê¸ˆìš”ì¼ ì˜¤í›„ 4ì‹œì…ë‹ˆë‹¤~",
                "markdown": true
              },
              {
                "type": "button",
                "text": "ë°”ë¡œê°€ê¸°",
                "style": "primary",
                "action": {
                  "type": "open_system_browser",
                  "value": "https://drive.google.com/drive/u/0/folders/1nmz8c-qtouAGZpgJAajvTsLujrS3mrpt?ths=true"
                }
              }
            ]
          }
          EOF
          curl -X POST "https://kakaowork.com/bots/hook/55818b68831347139dbb65199eee3031" \
          -H "Content-Type: application/json" \
          -d @payload.json
